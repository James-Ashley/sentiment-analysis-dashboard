(CNN) A federal judge ruled on Tuesday against the Department of Homeland Security, finding that the department acted unlawfully earlier this year when it banned New York residents from Trusted Traveler Programs like Global Entry.  The department "undermined" the core values of the Administrative Procedure Act and made matters worse by "repeating their misleading, if not false, representations," District Judge Jesse Furman wrote in a scathing decision.  The judge, however, acknowledged that the ruling is "somewhat of an empty gesture," since the ban was already rescinded. Nonetheless, Furman concluded that "at a minimum," DHS' decision should be declared unlawful to ensure that it cannot be reinstated.  In February, acting Homeland Security Secretary Chad Wolf announced that New York state residents would no longer be allowed to participate in certain Trusted Traveler Programs, including Global Entry, due to provisions in the state's new "Green Light Law," which supported undocumented immigrants.  The New York law, which went into effect in December, allows undocumented immigrants to apply for New York driver's licenses while protecting applicants' information from immigration enforcement agencies. New York later amended the law to provide for the sharing of DMV information with federal immigration authorities specifically for acceptance into a Trusted Traveler Program, or to facilitate vehicle imports or exports.  Read More Judge rules against DHS in Global Entry case after department admitted to false statements